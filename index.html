<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>DÄ°REN | AkÄ±llÄ± Gaz Takip Sistemi</title>
    
    <script src="https://cdn.tailwindcss.com"></script>
    
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600&family=Plus+Jakarta+Sans:wght@400;600;700;800&display=swap" rel="stylesheet">

    <link href="https://cdn.jsdelivr.net/npm/remixicon@3.5.0/fonts/remixicon.css" rel="stylesheet">

    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>

    <style>
        :root {
            --primary: #0ea5e9; /* Sky 500 */
            --secondary: #6366f1; /* Indigo 500 */
            --dark: #0f172a; /* Slate 900 */
        }
        body { 
            font-family: 'Inter', sans-serif; 
            background-color: #f8fafc; 
            color: #334155; 
            -webkit-tap-highlight-color: transparent;
        }
        h1, h2, h3, h4, h5 { font-family: 'Plus Jakarta Sans', sans-serif; }

        /* Custom Scrollbar */
        ::-webkit-scrollbar { width: 6px; height: 6px; }
        ::-webkit-scrollbar-track { background: transparent; }
        ::-webkit-scrollbar-thumb { background: #cbd5e1; border-radius: 4px; }
        ::-webkit-scrollbar-thumb:hover { background: #94a3b8; }

        /* Animations */
        .fade-in { animation: fadeIn 0.5s cubic-bezier(0.16, 1, 0.3, 1) forwards; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

        /* Glass Cards */
        .glass {
            background: rgba(255, 255, 255, 0.7);
            backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px);
            border: 1px solid rgba(255, 255, 255, 0.5);
        }

        /* Nav Active State */
        .nav-item.active {
            background-color: #e0f2fe;
            color: #0284c7;
            font-weight: 600;
        }
        .nav-item.active i { color: #0284c7; }

        /* Chat Bubbles */
        .bubble-user { background: linear-gradient(135deg, #0ea5e9, #2563eb); color: white; border-radius: 16px 16px 0 16px; }
        .bubble-ai { background: white; border: 1px solid #e2e8f0; color: #1e293b; border-radius: 16px 16px 16px 0; }
        
        /* Code Block Styling */
        pre { background: #1e293b !important; color: #e2e8f0; padding: 1rem; border-radius: 0.5rem; overflow-x: auto; }
        
        .typing-dot { animation: typing 1.4s infinite ease-in-out both; }
        .typing-dot:nth-child(1) { animation-delay: -0.32s; }
        .typing-dot:nth-child(2) { animation-delay: -0.16s; }
        @keyframes typing { 0%, 80%, 100% { transform: scale(0); } 40% { transform: scale(1); } }
    </style>
</head>
<body class="flex flex-col min-h-screen pb-20 md:pb-0">

    <header class="fixed top-0 w-full z-50 glass shadow-sm transition-all duration-300">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 h-16 flex items-center justify-between">
            <div class="flex items-center gap-3">
                <div class="w-10 h-10 rounded-xl bg-gradient-to-br from-sky-500 to-indigo-600 flex items-center justify-center text-white shadow-lg shadow-sky-200">
                    <i class="ri-sensor-line text-xl"></i>
                </div>
                <div>
                    <h1 class="text-lg font-bold text-slate-800 leading-none">DÄ°REN</h1>
                    <p class="text-[10px] uppercase tracking-wider text-slate-500 font-semibold mt-0.5">Gaz Tespit Ar-Ge</p>
                </div>
            </div>

            <nav class="hidden md:flex items-center space-x-1 bg-slate-100/50 p-1 rounded-xl">
                <button onclick="app.nav('overview')" id="d-overview" class="nav-item px-4 py-2 rounded-lg text-sm font-medium text-slate-500 transition-all">Genel BakÄ±ÅŸ</button>
                <button onclick="app.nav('analysis')" id="d-analysis" class="nav-item px-4 py-2 rounded-lg text-sm font-medium text-slate-500 transition-all">Gaz & SensÃ¶r</button>
                <button onclick="app.nav('hardware')" id="d-hardware" class="nav-item px-4 py-2 rounded-lg text-sm font-medium text-slate-500 transition-all">DonanÄ±m</button>
                <button onclick="app.nav('software')" id="d-software" class="nav-item px-4 py-2 rounded-lg text-sm font-medium text-slate-500 transition-all">YazÄ±lÄ±m & Plan</button>
                <button onclick="app.nav('ai')" id="d-ai" class="ml-2 px-4 py-2 rounded-lg text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 shadow-md shadow-indigo-200 transition-all flex items-center gap-2">
                    <i class="ri-sparkling-fill"></i> Asistan
                </button>
            </nav>
        </div>
    </header>

    <main class="flex-grow max-w-7xl mx-auto w-full px-4 pt-24 pb-10 space-y-8">

        <section id="s-overview" class="fade-in space-y-6">
            <div class="bg-slate-900 rounded-3xl p-8 md:p-12 text-white relative overflow-hidden shadow-2xl shadow-slate-200">
                <div class="absolute top-0 right-0 w-96 h-96 bg-sky-500 rounded-full mix-blend-overlay filter blur-3xl opacity-20 -mr-20 -mt-20"></div>
                <div class="absolute bottom-0 left-0 w-72 h-72 bg-indigo-500 rounded-full mix-blend-overlay filter blur-3xl opacity-20 -ml-20 -mb-20"></div>
                
                <div class="relative z-10 max-w-3xl">
                    <span class="inline-flex items-center gap-1.5 py-1 px-3 rounded-full bg-sky-500/20 border border-sky-500/30 text-sky-300 text-xs font-bold mb-6 backdrop-blur-sm">
                        <i class="ri-file-list-3-line"></i> TEKNÄ°K RAPOR Ã–ZETÄ°
                    </span>
                    <h2 class="text-3xl md:text-5xl font-bold mb-6 leading-tight">Yeni Nesil Klima GazÄ± <br><span class="text-sky-400">KaÃ§ak Tespit Sistemi</span></h2>
                    <p class="text-slate-300 text-lg leading-relaxed mb-8">
                        Ãœniversite kampÃ¼sleri ve kritik altyapÄ±lar iÃ§in, Ã¶zellikle <strong>R-32 ve R-410A</strong> gibi yeni nesil soÄŸutucu akÄ±ÅŸkanlarÄ± tespit eden, yanlÄ±ÅŸ alarmlardan arÄ±ndÄ±rÄ±lmÄ±ÅŸ, IoT tabanlÄ± gÃ¼venlik sistemi geliÅŸtirme projesidir.
                    </p>
                    
                    <div class="grid grid-cols-2 md:grid-cols-4 gap-4 text-center md:text-left">
                        <div>
                            <div class="text-3xl font-bold text-sky-400">A2L</div>
                            <div class="text-xs text-slate-400 uppercase tracking-wide mt-1">Hedef Gaz SÄ±nÄ±fÄ±</div>
                        </div>
                        <div>
                            <div class="text-3xl font-bold text-sky-400">%14.4</div>
                            <div class="text-xs text-slate-400 uppercase tracking-wide mt-1">R-32 LFL Limiti</div>
                        </div>
                        <div>
                            <div class="text-3xl font-bold text-sky-400">IoT</div>
                            <div class="text-xs text-slate-400 uppercase tracking-wide mt-1">MQTT & Flutter</div>
                        </div>
                        <div>
                            <div class="text-3xl font-bold text-sky-400">12</div>
                            <div class="text-xs text-slate-400 uppercase tracking-wide mt-1">HaftalÄ±k Plan</div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="grid md:grid-cols-2 gap-6">
                <div class="bg-white p-6 rounded-2xl shadow-sm border border-slate-100">
                    <h3 class="font-bold text-slate-800 text-lg mb-3 flex items-center gap-2">
                        <i class="ri-alert-fill text-orange-500"></i> Problem: YanÄ±cÄ±lÄ±k
                    </h3>
                    <p class="text-slate-600 text-sm leading-relaxed">
                        Ã‡evresel regÃ¼lasyonlar (Kigali DeÄŸiÅŸikliÄŸi) nedeniyle R-410A yerini <strong>R-32</strong>'ye bÄ±rakÄ±yor. R-32 "DÃ¼ÅŸÃ¼k YanÄ±cÄ±" (A2L) sÄ±nÄ±fÄ±ndadÄ±r. KapalÄ± alanlarda sÄ±zÄ±ntÄ±, patlayÄ±cÄ± konsantrasyona ulaÅŸabilir. Mevcut sistemler eski gazlara gÃ¶re tasarlanmÄ±ÅŸtÄ±r.
                    </p>
                </div>
                <div class="bg-white p-6 rounded-2xl shadow-sm border border-slate-100">
                    <h3 class="font-bold text-slate-800 text-lg mb-3 flex items-center gap-2">
                        <i class="ri-checkbox-circle-fill text-green-500"></i> Ã‡Ã¶zÃ¼m: SeÃ§ici SensÃ¶r
                    </h3>
                    <p class="text-slate-600 text-sm leading-relaxed">
                        SÄ±radan hava kalitesi sensÃ¶rleri (MQ-135) temizlik malzemelerine (alkol) bile alarm verir. Proje, <strong>soÄŸutucu gazlara Ã¶zel filtrelenmiÅŸ</strong> endÃ¼striyel sensÃ¶rler (TGS2630/ZRT510) ve gÃ¼venli donanÄ±m mimarisi kullanÄ±r.
                    </p>
                </div>
            </div>
        </section>

        <section id="s-analysis" class="hidden fade-in space-y-6">
            <div class="flex flex-col md:flex-row gap-6">
                
                <div class="w-full md:w-1/3 space-y-4">
                    <div class="bg-blue-600 rounded-2xl p-6 text-white shadow-lg shadow-blue-200">
                        <div class="flex items-center gap-3 mb-4">
                            <i class="ri-download-2-line text-2xl bg-white/20 p-2 rounded-lg"></i>
                            <div>
                                <h3 class="font-bold">Kritik Fizik KuralÄ±</h3>
                                <p class="text-xs text-blue-100">R-32 YoÄŸunluÄŸu > Hava</p>
                            </div>
                        </div>
                        <p class="text-sm text-blue-50 leading-relaxed mb-4">
                            SoÄŸutucu gazlar havadan aÄŸÄ±rdÄ±r (BaÄŸÄ±l yoÄŸunluk ~1.8). KaÃ§ak anÄ±nda gaz <strong>zemine Ã§Ã¶ker</strong>. 
                        </p>
                        <div class="bg-white/10 rounded-lg p-3 border border-white/20">
                            <p class="text-xs font-semibold text-center">
                                <i class="ri-map-pin-line"></i> Montaj: Zeminden 30-50 cm
                            </p>
                        </div>
                    </div>

                    <div class="bg-white rounded-2xl p-5 border border-slate-100 shadow-sm">
                        <h4 class="font-bold text-slate-700 mb-3">Hedef Gazlar</h4>
                        <div class="space-y-3">
                            <div class="flex justify-between items-center p-3 bg-slate-50 rounded-lg">
                                <span class="text-sm font-medium">R-410A</span>
                                <span class="text-xs bg-slate-200 px-2 py-1 rounded">YaygÄ±n</span>
                            </div>
                            <div class="flex justify-between items-center p-3 bg-orange-50 rounded-lg border border-orange-100">
                                <span class="text-sm font-bold text-orange-800">R-32</span>
                                <span class="text-xs bg-orange-200 text-orange-800 px-2 py-1 rounded font-bold">YanÄ±cÄ± (A2L)</span>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="w-full md:w-2/3 bg-white rounded-2xl p-6 shadow-sm border border-slate-100">
                    <div class="flex justify-between items-center mb-6">
                        <h3 class="font-bold text-lg text-slate-800">SensÃ¶r Teknolojileri Analizi</h3>
                        <span class="text-xs text-slate-400">Rapor BÃ¶lÃ¼m 3.4</span>
                    </div>

                    <div class="h-64 w-full mb-6">
                        <canvas id="sensorChart"></canvas>
                    </div>

                    <div class="overflow-x-auto">
                        <table class="w-full text-sm text-left">
                            <thead class="bg-slate-50 text-slate-500 font-medium">
                                <tr>
                                    <th class="p-3 rounded-l-lg">Model</th>
                                    <th class="p-3">Teknoloji</th>
                                    <th class="p-3">YanlÄ±ÅŸ Alarm (Alkol)</th>
                                    <th class="p-3 rounded-r-lg">Karar</th>
                                </tr>
                            </thead>
                            <tbody class="divide-y divide-slate-100">
                                <tr class="opacity-50">
                                    <td class="p-3 font-mono text-red-500">MQ-135 / MQ-2</td>
                                    <td class="p-3">Hobi SÄ±nÄ±fÄ± MOS</td>
                                    <td class="p-3 text-red-500">Ã‡ok YÃ¼ksek</td>
                                    <td class="p-3"><span class="px-2 py-1 bg-red-100 text-red-700 rounded text-xs font-bold">REDDEDÄ°LDÄ°</span></td>
                                </tr>
                                <tr class="bg-sky-50/50">
                                    <td class="p-3 font-mono font-bold text-sky-700">Figaro TGS2630</td>
                                    <td class="p-3">Filtreli MOS</td>
                                    <td class="p-3 text-green-600">DÃ¼ÅŸÃ¼k (Karbon Filtreli)</td>
                                    <td class="p-3"><span class="px-2 py-1 bg-sky-100 text-sky-700 rounded text-xs font-bold">Ã–NERÄ°LEN</span></td>
                                </tr>
                                <tr>
                                    <td class="p-3 font-mono text-slate-700">Winsen ZRT510</td>
                                    <td class="p-3">NDIR (KÄ±zÄ±lÃ¶tesi)</td>
                                    <td class="p-3 text-green-600">Yok (MÃ¼kemmel)</td>
                                    <td class="p-3"><span class="px-2 py-1 bg-slate-100 text-slate-600 rounded text-xs">PahalÄ± Alternatif</span></td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </section>

        <section id="s-hardware" class="hidden fade-in space-y-6">
            
            <div class="bg-white rounded-2xl p-6 shadow-sm border border-slate-100">
                <h3 class="font-bold text-slate-800 text-lg mb-6">Sistem BaÄŸlantÄ± Mimarisi (BOM)</h3>
                
                <div class="grid md:grid-cols-3 gap-6">
                    <div class="group p-4 rounded-xl border border-slate-200 hover:border-sky-400 transition-all bg-slate-50 hover:bg-white hover:shadow-lg">
                        <div class="w-12 h-12 bg-sky-100 rounded-lg flex items-center justify-center text-sky-600 mb-4 group-hover:scale-110 transition-transform">
                            <i class="ri-cpu-line text-2xl"></i>
                        </div>
                        <h4 class="font-bold text-slate-700">ESP32 GeliÅŸtirme KartÄ±</h4>
                        <p class="text-xs text-slate-500 mt-2 mb-3">Arduino yerine tercih edilmelidir.</p>
                        <ul class="text-xs space-y-2 text-slate-600">
                            <li class="flex gap-2"><i class="ri-wifi-line text-sky-500"></i> Dahili Wi-Fi & Bluetooth (IoT)</li>
                            <li class="flex gap-2"><i class="ri-speed-line text-sky-500"></i> Ã‡ift Ã‡ekirdekli GÃ¼Ã§lÃ¼ Ä°ÅŸlemci</li>
                            <li class="flex gap-2"><i class="ri-alert-line text-red-500"></i> 3.3V Lojik Seviye</li>
                        </ul>
                    </div>

                    <div class="group p-4 rounded-xl border border-slate-200 hover:border-sky-400 transition-all bg-slate-50 hover:bg-white hover:shadow-lg">
                        <div class="w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center text-green-600 mb-4 group-hover:scale-110 transition-transform">
                            <i class="ri-sensor-fill text-2xl"></i>
                        </div>
                        <h4 class="font-bold text-slate-700">TGS2630 SensÃ¶r ModÃ¼lÃ¼</h4>
                        <p class="text-xs text-slate-500 mt-2 mb-3">R-32 ve R-410A iÃ§in Ã¶zelleÅŸmiÅŸ.</p>
                        <ul class="text-xs space-y-2 text-slate-600">
                            <li class="flex gap-2"><i class="ri-filter-3-line text-green-500"></i> Aktif Karbon Filtreli (Alkol Ã–nleyici)</li>
                            <li class="flex gap-2"><i class="ri-flashlight-line text-orange-500"></i> 5V Ã‡alÄ±ÅŸma Gerilimi</li>
                        </ul>
                    </div>

                    <div class="group p-4 rounded-xl border border-slate-200 hover:border-sky-400 transition-all bg-slate-50 hover:bg-white hover:shadow-lg">
                        <div class="w-12 h-12 bg-orange-100 rounded-lg flex items-center justify-center text-orange-600 mb-4 group-hover:scale-110 transition-transform">
                            <i class="ri-shield-flash-line text-2xl"></i>
                        </div>
                        <h4 class="font-bold text-slate-700">GÃ¼venlik & GÃ¼Ã§ KatÄ±</h4>
                        <p class="text-xs text-slate-500 mt-2 mb-3">YanÄ±cÄ± gaz ortamÄ± iÃ§in kritik.</p>
                        <ul class="text-xs space-y-2 text-slate-600">
                            <li class="flex gap-2"><i class="ri-plug-line text-slate-500"></i> <strong>5V 2A Harici AdaptÃ¶r:</strong> SensÃ¶r Ä±sÄ±tÄ±cÄ±sÄ± yÃ¼ksek akÄ±m Ã§eker.</li>
                            <li class="flex gap-2"><i class="ri-toggle-line text-slate-500"></i> <strong>SSR (Solid State Relay):</strong> Mekanik rÃ¶le kÄ±vÄ±lcÄ±m Ã§Ä±karÄ±r, SSR gÃ¼venlidir.</li>
                        </ul>
                    </div>
                </div>
            </div>

            <div class="bg-indigo-900 rounded-2xl p-6 text-indigo-100 relative overflow-hidden">
                <div class="absolute -right-10 -top-10 w-40 h-40 bg-indigo-500 rounded-full blur-3xl opacity-30"></div>
                <div class="flex flex-col md:flex-row gap-8 items-center relative z-10">
                    <div class="flex-1">
                        <h3 class="font-bold text-white text-lg mb-2"><i class="ri-tools-line"></i> Kritik Teknik Detay: 5V - 3.3V Uyumu</h3>
                        <p class="text-sm text-indigo-200 mb-4">
                            SensÃ¶rler 5V Ã§Ä±kÄ±ÅŸ verir ancak ESP32 giriÅŸi maks. 3.3V destekler. DoÄŸrudan baÄŸlantÄ± ESP32'yi yakar. Analog sinyal iÃ§in <strong>Gerilim BÃ¶lÃ¼cÃ¼ (Voltage Divider)</strong> devresi ÅŸarttÄ±r.
                        </p>
                        <div class="inline-block bg-black/30 p-3 rounded-lg font-mono text-sm border border-indigo-500/30">
                            V_esp = V_sensor * (R2 / (R1 + R2))
                        </div>
                        <p class="text-xs mt-2 opacity-70">Ã–nerilen: R1 = 2.2kÎ©, R2 = 3.3kÎ© (Ã‡Ä±kÄ±ÅŸ ~3.0V)</p>
                    </div>
                    <div class="w-full md:w-1/3 bg-white/10 p-4 rounded-xl border border-white/10">
                        <h4 class="text-xs font-bold uppercase tracking-wider mb-3 text-indigo-300">BaÄŸlantÄ± ÅemasÄ±</h4>
                        <div class="space-y-2 text-xs font-mono">
                            <div class="flex justify-between"><span>SensÃ¶r VCC</span> <span>-></span> <span class="text-red-300">5V (Harici)</span></div>
                            <div class="flex justify-between"><span>SensÃ¶r GND</span> <span>-></span> <span>Ortak GND</span></div>
                            <div class="flex justify-between"><span>SensÃ¶r OUT</span> <span>-></span> <span class="text-yellow-300">R1 -> R2</span></div>
                            <div class="flex justify-between"><span>R1/R2 OrtasÄ±</span> <span>-></span> <span class="text-green-300">ESP32 GPIO</span></div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section id="s-software" class="hidden fade-in space-y-8">
            
            <div class="grid md:grid-cols-2 gap-6">
                <div class="bg-white rounded-2xl p-6 shadow-sm border border-slate-100">
                    <h3 class="font-bold text-slate-800 text-lg mb-4">YazÄ±lÄ±m Stratejisi</h3>
                    <ul class="space-y-4">
                        <li class="flex items-start gap-3">
                            <div class="w-8 h-8 rounded-full bg-violet-100 flex items-center justify-center text-violet-600 mt-1 flex-shrink-0"><i class="ri-functions-line"></i></div>
                            <div>
                                <h4 class="font-bold text-sm text-slate-700">Oversampling (AÅŸÄ±rÄ± Ã–rnekleme)</h4>
                                <p class="text-xs text-slate-500">Analog sinyal gÃ¼rÃ¼ltÃ¼lÃ¼dÃ¼r. 100ms iÃ§inde 50 okuma yapÄ±p ortalamasÄ±nÄ± alarak stabil veri elde edilir.</p>
                            </div>
                        </li>
                        <li class="flex items-start gap-3">
                            <div class="w-8 h-8 rounded-full bg-sky-100 flex items-center justify-center text-sky-600 mt-1 flex-shrink-0"><i class="ri-cloud-line"></i></div>
                            <div>
                                <h4 class="font-bold text-sm text-slate-700">MQTT & JSON</h4>
                                <p class="text-xs text-slate-500">Mobil uygulama ile haberleÅŸme iÃ§in hafif ve hÄ±zlÄ± MQTT protokolÃ¼ kullanÄ±lÄ±r. Veriler JSON formatÄ±nda paketlenir.</p>
                            </div>
                        </li>
                        <li class="flex items-start gap-3">
                            <div class="w-8 h-8 rounded-full bg-green-100 flex items-center justify-center text-green-600 mt-1 flex-shrink-0"><i class="ri-smartphone-line"></i></div>
                            <div>
                                <h4 class="font-bold text-sm text-slate-700">Flutter Mobil App</h4>
                                <p class="text-xs text-slate-500">Ã‡apraz platform (iOS/Android) kontrol paneli. FCM (Firebase) ile acil durum bildirimleri.</p>
                            </div>
                        </li>
                    </ul>
                </div>

                <div class="bg-white rounded-2xl p-6 shadow-sm border border-slate-100 relative">
                    <h3 class="font-bold text-slate-800 text-lg mb-6">12 HaftalÄ±k Yol HaritasÄ±</h3>
                    <div class="absolute left-9 top-20 bottom-10 w-0.5 bg-slate-200"></div>
                    
                    <div class="space-y-8 relative">
                        <div class="flex gap-4 relative">
                            <div class="w-6 h-6 rounded-full bg-sky-500 border-4 border-white shadow-sm flex-shrink-0 z-10"></div>
                            <div>
                                <span class="text-[10px] font-bold text-sky-500 bg-sky-50 px-2 py-1 rounded">1-2. Hafta</span>
                                <h4 class="text-sm font-bold text-slate-800 mt-1">AraÅŸtÄ±rma & Tedarik</h4>
                                <p class="text-xs text-slate-500 mt-1">TGS2630 ve ESP32 sipariÅŸi. MSDS gÃ¼venlik formlarÄ±nÄ±n incelenmesi.</p>
                            </div>
                        </div>

                        <div class="flex gap-4 relative">
                            <div class="w-6 h-6 rounded-full bg-white border-4 border-slate-300 shadow-sm flex-shrink-0 z-10"></div>
                            <div>
                                <span class="text-[10px] font-bold text-slate-500 bg-slate-100 px-2 py-1 rounded">3-5. Hafta</span>
                                <h4 class="text-sm font-bold text-slate-800 mt-1">Prototipleme</h4>
                                <p class="text-xs text-slate-500 mt-1">Breadboard kurulumu. Ã‡akmak gazÄ± (BÃ¼tan) ile sensÃ¶r tepki testi.</p>
                            </div>
                        </div>

                        <div class="flex gap-4 relative">
                            <div class="w-6 h-6 rounded-full bg-white border-4 border-slate-300 shadow-sm flex-shrink-0 z-10"></div>
                            <div>
                                <span class="text-[10px] font-bold text-slate-500 bg-slate-100 px-2 py-1 rounded">6-9. Hafta</span>
                                <h4 class="text-sm font-bold text-slate-800 mt-1">IoT & YazÄ±lÄ±m</h4>
                                <p class="text-xs text-slate-500 mt-1">MQTT broker kurulumu. Flutter arayÃ¼z tasarÄ±mÄ± ve bildirim entegrasyonu.</p>
                            </div>
                        </div>

                        <div class="flex gap-4 relative">
                            <div class="w-6 h-6 rounded-full bg-white border-4 border-slate-300 shadow-sm flex-shrink-0 z-10"></div>
                            <div>
                                <span class="text-[10px] font-bold text-slate-500 bg-slate-100 px-2 py-1 rounded">10-12. Hafta</span>
                                <h4 class="text-sm font-bold text-slate-800 mt-1">Saha Testi & Kutu</h4>
                                <p class="text-xs text-slate-500 mt-1">Hava akÄ±ÅŸlÄ± kutu tasarÄ±mÄ± (3D baskÄ±). GerÃ§ek ortamda pilot deneme.</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section id="s-ai" class="hidden fade-in h-[600px] flex flex-col">
            <div class="bg-gradient-to-r from-indigo-600 to-violet-600 rounded-t-3xl p-6 text-white shrink-0">
                <div class="flex items-center gap-3">
                    <div class="p-2 bg-white/20 rounded-lg backdrop-blur-sm">
                        <i class="ri-robot-2-fill text-xl"></i>
                    </div>
                    <div>
                        <h2 class="font-bold text-lg">Proje Teknik AsistanÄ±</h2>
                        <p class="text-xs text-indigo-200">Rapor verileriyle eÄŸitilmiÅŸ yapay zeka</p>
                    </div>
                </div>
            </div>
            
            <div class="flex-grow bg-white border-x border-b border-slate-200 shadow-sm rounded-b-3xl flex flex-col overflow-hidden">
                <div id="chat-container" class="flex-grow overflow-y-auto p-4 space-y-4 bg-slate-50/50">
                    <div class="flex gap-3 fade-in">
                        <div class="w-8 h-8 rounded-full bg-indigo-100 flex items-center justify-center text-indigo-600 text-xs shrink-0"><i class="ri-robot-2-line"></i></div>
                        <div class="bubble-ai p-4 text-sm max-w-[85%] shadow-sm">
                            <p>Merhaba! ğŸ‘‹ Ben DÄ°REN projesi iÃ§in teknik asistanÄ±m. Rapor iÃ§eriÄŸine hakimim.</p>
                            <p class="mt-2 text-slate-500 text-xs">ÅunlarÄ± sorabilirsin:</p>
                            <ul class="list-disc list-inside mt-1 text-slate-500 text-xs">
                                <li>Neden MQ-135 kullanmÄ±yoruz?</li>
                                <li>Voltaj bÃ¶lÃ¼cÃ¼ direnÃ§ deÄŸerleri kaÃ§ olmalÄ±?</li>
                                <li>R-32 gazÄ± sensÃ¶rÃ¼ nereye monte edilmeli?</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <div class="p-4 bg-white border-t border-slate-100">
                    <div class="flex gap-2 relative">
                        <input type="text" id="user-input" placeholder="Teknik bir soru sorun..." class="w-full bg-slate-50 border border-slate-200 rounded-xl px-4 py-3 text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 transition-all" onkeypress="if(event.key === 'Enter') app.askAI()">
                        <button onclick="app.askAI()" id="send-btn" class="bg-indigo-600 hover:bg-indigo-700 text-white rounded-xl px-4 transition-colors">
                            <i class="ri-send-plane-fill"></i>
                        </button>
                    </div>
                </div>
            </div>
        </section>

    </main>

    <nav class="md:hidden fixed bottom-0 left-0 right-0 bg-white border-t border-slate-200 px-2 py-1 flex justify-between items-center z-50 pb-safe shadow-[0_-5px_15px_rgba(0,0,0,0.03)]">
        <button onclick="app.nav('overview')" id="m-overview" class="nav-item flex flex-col items-center p-2 rounded-lg w-16 transition-colors">
            <i class="ri-home-4-line text-xl mb-0.5"></i>
            <span class="text-[9px] font-medium">Ã–zet</span>
        </button>
        <button onclick="app.nav('analysis')" id="m-analysis" class="nav-item flex flex-col items-center p-2 rounded-lg w-16 transition-colors">
            <i class="ri-flask-line text-xl mb-0.5"></i>
            <span class="text-[9px] font-medium">Gaz</span>
        </button>
        <button onclick="app.nav('ai')" id="m-ai" class="flex flex-col items-center justify-center w-16 -mt-6">
            <div class="w-12 h-12 bg-indigo-600 rounded-full flex items-center justify-center text-white shadow-lg shadow-indigo-300 border-4 border-white">
                <i class="ri-sparkling-fill text-xl"></i>
            </div>
            <span class="text-[9px] font-bold text-indigo-600 mt-1">Asistan</span>
        </button>
        <button onclick="app.nav('hardware')" id="m-hardware" class="nav-item flex flex-col items-center p-2 rounded-lg w-16 transition-colors">
            <i class="ri-cpu-line text-xl mb-0.5"></i>
            <span class="text-[9px] font-medium">DonanÄ±m</span>
        </button>
        <button onclick="app.nav('software')" id="m-software" class="nav-item flex flex-col items-center p-2 rounded-lg w-16 transition-colors">
            <i class="ri-code-s-slash-line text-xl mb-0.5"></i>
            <span class="text-[9px] font-medium">YazÄ±lÄ±m</span>
        </button>
    </nav>

    <script>
        // API Configuration
        const API_KEY = ""; // Buraya kendi Gemini API anahtarÄ±nÄ±zÄ± girin

        const app = {
            chart: null,
            
            init: () => {
                app.initChart();
                app.nav('overview'); // BaÅŸlangÄ±Ã§ sayfasÄ±
            },

            // Navigasyon MantÄ±ÄŸÄ±
            nav: (id) => {
                // BÃ¶lÃ¼mleri Gizle/GÃ¶ster
                document.querySelectorAll('section').forEach(el => {
                    el.classList.add('hidden');
                    el.classList.remove('fade-in');
                });
                const target = document.getElementById(`s-${id}`);
                target.classList.remove('hidden');
                void target.offsetWidth; // Reflow tetikle
                target.classList.add('fade-in');

                // ButonlarÄ± GÃ¼ncelle (Desktop & Mobile)
                document.querySelectorAll('.nav-item').forEach(btn => btn.classList.remove('active'));
                
                const dBtn = document.getElementById(`d-${id}`);
                const mBtn = document.getElementById(`m-${id}`);
                
                if(dBtn) dBtn.classList.add('active');
                if(mBtn) mBtn.classList.add('active');

                // SayfayÄ± yukarÄ± kaydÄ±r
                window.scrollTo({top: 0, behavior: 'smooth'});

                // AI butonu Ã¶zel durumu
                const aiBtn = document.getElementById('d-ai');
                if(id === 'ai') {
                    aiBtn.classList.replace('bg-indigo-600', 'bg-indigo-800');
                } else {
                    aiBtn.classList.replace('bg-indigo-800', 'bg-indigo-600');
                }
            },

            // Grafik OluÅŸturma (Radar Chart)
            initChart: () => {
                const ctx = document.getElementById('sensorChart').getContext('2d');
                app.chart = new Chart(ctx, {
                    type: 'radar',
                    data: {
                        labels: ['Hassasiyet', 'SeÃ§icilik (YanlÄ±ÅŸ Alarm Yok)', 'R-32 Uyumu', 'Maliyet AvantajÄ±', 'Ã–mÃ¼r'],
                        datasets: [
                            {
                                label: 'TGS 2630 (Ã–nerilen)',
                                data: [85, 90, 95, 60, 80],
                                backgroundColor: 'rgba(14, 165, 233, 0.2)',
                                borderColor: '#0ea5e9',
                                borderWidth: 2
                            },
                            {
                                label: 'MQ-135 (Hobi)',
                                data: [40, 20, 30, 95, 40],
                                backgroundColor: 'rgba(239, 68, 68, 0.2)',
                                borderColor: '#ef4444',
                                borderWidth: 2
                            },
                            {
                                label: 'ZRT510 (NDIR)',
                                data: [95, 100, 100, 10, 95], // Maliyet Ã§ok dÃ¼ÅŸÃ¼k puan (pahalÄ±)
                                backgroundColor: 'rgba(100, 116, 139, 0.2)',
                                borderColor: '#64748b',
                                borderWidth: 1,
                                borderDash: [5, 5]
                            }
                        ]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        scales: {
                            r: {
                                angleLines: { color: '#f1f5f9' },
                                grid: { color: '#e2e8f0' },
                                pointLabels: { font: { family: "'Inter', sans-serif", size: 10, weight: 600 }, color: '#64748b' },
                                ticks: { display: false, max: 100 }
                            }
                        },
                        plugins: {
                            legend: { position: 'bottom', labels: { usePointStyle: true, font: { size: 11 } } }
                        }
                    }
                });
            },

            // AI Chat MantÄ±ÄŸÄ±
            addMsg: (text, sender) => {
                const container = document.getElementById('chat-container');
                const div = document.createElement('div');
                div.className = `flex gap-3 fade-in ${sender === 'user' ? 'flex-row-reverse' : ''}`;
                
                const icon = sender === 'ai' 
                    ? `<div class="w-8 h-8 rounded-full bg-indigo-100 flex items-center justify-center text-indigo-600 text-xs shrink-0"><i class="ri-robot-2-line"></i></div>`
                    : `<div class="w-8 h-8 rounded-full bg-slate-200 flex items-center justify-center text-slate-500 text-xs shrink-0"><i class="ri-user-3-line"></i></div>`;
                
                const bubbleClass = sender === 'user' ? 'bubble-user' : 'bubble-ai';
                const content = sender === 'ai' ? marked.parse(text) : text;

                div.innerHTML = `${icon}<div class="${bubbleClass} p-3 text-sm max-w-[85%] shadow-sm overflow-hidden">${content}</div>`;
                container.appendChild(div);
                container.scrollTop = container.scrollHeight;
            },

            showTyping: () => {
                const container = document.getElementById('chat-container');
                const div = document.createElement('div');
                div.id = 'typing';
                div.className = 'flex gap-3 fade-in';
                div.innerHTML = `
                    <div class="w-8 h-8 rounded-full bg-indigo-100 flex items-center justify-center text-indigo-600 text-xs shrink-0"><i class="ri-robot-2-line"></i></div>
                    <div class="bubble-ai p-3 shadow-sm flex gap-1 items-center h-10">
                        <div class="w-1.5 h-1.5 bg-slate-400 rounded-full typing-dot"></div>
                        <div class="w-1.5 h-1.5 bg-slate-400 rounded-full typing-dot"></div>
                        <div class="w-1.5 h-1.5 bg-slate-400 rounded-full typing-dot"></div>
                    </div>`;
                container.appendChild(div);
                container.scrollTop = container.scrollHeight;
            },

            askAI: async () => {
                const input = document.getElementById('user-input');
                const query = input.value.trim();
                if(!query) return;

                app.addMsg(query, 'user');
                input.value = '';
                input.disabled = true;
                app.showTyping();

                // DÄ°REN Projesi Ã–zel Sistem Komutu
                const systemPrompt = `Sen "DÄ°REN Projesi"nin teknik asistanÄ±sÄ±n. AÅŸaÄŸÄ±daki rapor verilerine gÃ¶re cevap ver:
                1. Proje AmacÄ±: Ãœniversitelerde R-32 ve R-410A gaz kaÃ§aklarÄ±nÄ± tespit etmek.
                2. SensÃ¶r: MQ serisi KESÄ°NLÄ°KLE yasak (alkol yanlÄ±ÅŸ alarmÄ±). Figaro TGS2630 kullanÄ±lacak (filtreli MOS).
                3. DonanÄ±m: ESP32 (Wi-Fi iÃ§in), SSR RÃ¶le (kÄ±vÄ±lcÄ±m Ã¶nlemek iÃ§in), Harici 5V 2A adaptÃ¶r (gÃ¼Ã§ iÃ§in).
                4. Voltaj UyumsuzluÄŸu: SensÃ¶r 5V, ESP32 3.3V. Voltaj bÃ¶lÃ¼cÃ¼ (R1:2.2k, R2:3.3k) veya Logic Level Shifter ÅŸart.
                5. Montaj: Gaz havadan aÄŸÄ±r, sensÃ¶r zemine (30-50cm) monte edilmeli.
                CevaplarÄ±n kÄ±sa, teknik ve TÃ¼rkÃ§e olsun. Kod isterse Arduino/C++ ver.`;

                try {
                    const response = await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-09-2025:generateContent?key=${API_KEY}`, {
                        method: 'POST',
                        headers: {'Content-Type': 'application/json'},
                        body: JSON.stringify({
                            contents: [{ parts: [{ text: query }] }],
                            systemInstruction: { parts: [{ text: systemPrompt }] }
                        })
                    });
                    
                    const data = await response.json();
                    const aiText = data.candidates?.[0]?.content?.parts?.[0]?.text || "BaÄŸlantÄ± sorunu.";
                    
                    document.getElementById('typing').remove();
                    app.addMsg(aiText, 'ai');
                } catch(e) {
                    document.getElementById('typing').remove();
                    app.addMsg("Hata oluÅŸtu. API key kontrol ediniz.", 'ai');
                } finally {
                    input.disabled = false;
                    input.focus();
                }
            }
        };

        // BaÅŸlat
        document.addEventListener('DOMContentLoaded', app.init);
    </script>
</body>
</html>
